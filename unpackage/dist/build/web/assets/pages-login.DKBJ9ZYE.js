import{g as e,s as a,r as l,a as s,c as o,w as t,i as u,o as r,b as n,d as i,e as d,f as c,h as p,j as m}from"./index-C0FQHog4.js";import{_ as f}from"./uni-easyinput.D9OgXDFQ.js";import{o as _,a as g,r as y}from"./uni-app.es.CqRsIkJV.js";import{u as v}from"./counter.qr28g38O.js";import{r as h}from"./reServer.BTTvNFdH.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=w({__name:"login",setup(w){_((e=>{console.log(e.id)})),g((async()=>{var l=e("token");if(l&&(console.log(l),200===(await h.checkToken(l)).code))return void a({url:"/pages/tabbar/index"})})),v();const j=l(""),b=l(""),k=async()=>{const e=await h.login(j.value,b.value);e&&(200===e.code&&(d("token",e.token),c({icon:"success",title:e.msg,complete:()=>{a({url:"/pages/tabbar/index"})}})),500===e.code&&c({icon:"error",title:e.msg}))};return(e,a)=>{const l=p,d=u,c=y(s("uni-easyinput"),f),_=m;return r(),o(d,{class:"body"},{default:t((()=>[n(d,null,{default:t((()=>[n(d,null,{default:t((()=>[n(l,{style:{"font-weight":"300"}},{default:t((()=>[i("欢迎登录济群管理系统")])),_:1})])),_:1}),n(d,{style:{width:"70%",display:"grid","grid-template-rows":"auto",gap:"30rpx"}},{default:t((()=>[n(d,null,{default:t((()=>[n(c,{placeholder:"账号",modelValue:j.value,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value=e)},null,8,["modelValue"])])),_:1}),n(d,null,{default:t((()=>[n(c,{placeholder:"密码",type:"password",modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e)},null,8,["modelValue"])])),_:1}),n(d,{style:{width:"100%",display:"grid","justify-items":"end","align-items":"center"}},{default:t((()=>[n(d,null,{default:t((()=>[n(_,{size:"mini",style:{"background-color":"white",color:"#2facfc"},onClick:k},{default:t((()=>[i("确定")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-3e88372f"]]);export{j as default};
