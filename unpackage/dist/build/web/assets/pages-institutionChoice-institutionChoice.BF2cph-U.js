import{r as a,a as e,c as l,w as s,i as t,o as u,b as d,u as c,d as o,E as n,k as i,l as r,F as f,f as _,h as v,v as p,ak as m}from"./index-C0FQHog4.js";import{_ as y}from"./uni-easyinput.D9OgXDFQ.js";import{a as h,r as k}from"./uni-app.es.CqRsIkJV.js";import{r as w}from"./reServer.BTTvNFdH.js";import{u as x}from"./counter.qr28g38O.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=g({__name:"institutionChoice",setup(g){h((async()=>{await b()}));const C=a(1),j=a([]),I=x();a(!0);const b=async()=>{const a=await w.getStoreInfo();j.value=[],j.value=a.data,console.log(a.data)},S=async a=>{C.value=a,j.value=[],1===a&&await b(),2===a&&(j.value=[{store:"A区",num:20,pid:-1,sid:-10},{store:"B区",num:7,pid:-2,sid:20}])},z=async a=>{if(""!==a){const e=await w.getStoreInfoByKeyword(a);return 200===e.code&&(j.value=[],j.value=e.data),void(500===e.code&&(j.value=[],await _({icon:"error",title:e.msg})))}await b()};return(a,_)=>{const h=k(e("uni-easyinput"),y),w=t,x=v;return u(),l(w,{class:"body"},{default:s((()=>[d(w,{class:"content"},{default:s((()=>[d(w,{class:"serach"},{default:s((()=>[d(w,{style:{width:"100%"}},{default:s((()=>[d(h,{suffixIcon:"search",placeholder:"请输入关键词进行搜索",onInput:z})])),_:1})])),_:1}),d(w,{class:"serach-data"},{default:s((()=>[d(w,{class:"serach-data-series"},{default:s((()=>[d(w,null,{default:s((()=>[d(w,{onClick:_[0]||(_[0]=a=>S(1))},{default:s((()=>[d(x,{class:c(1===C.value?"switch-text":"")},{default:s((()=>[o("门店")])),_:1},8,["class"])])),_:1})])),_:1}),d(w,null,{default:s((()=>[d(w,{onClick:_[1]||(_[1]=a=>S(2))},{default:s((()=>[d(x,{class:c(2===C.value?"switch-text":"")},{default:s((()=>[o("片区")])),_:1},8,["class"])])),_:1})])),_:1}),d(w,null,{default:s((()=>[d(w,{onClick:_[2]||(_[2]=a=>S(3))},{default:s((()=>[d(x,{class:c(3===C.value?"switch-text":"")},{default:s((()=>[o("大区")])),_:1},8,["class"])])),_:1})])),_:1}),d(w,null,{default:s((()=>[d(w,{onClick:_[3]||(_[3]=a=>S(4))},{default:s((()=>[d(x,{class:c(4===C.value?"switch-text":"")},{default:s((()=>[o("连锁")])),_:1},8,["class"])])),_:1})])),_:1}),d(w,null,{default:s((()=>[d(w,{onClick:_[4]||(_[4]=a=>S(5))},{default:s((()=>[d(x,{class:c(5===C.value?"switch-text":"")},{default:s((()=>[o("最近访问")])),_:1},8,["class"])])),_:1})])),_:1})])),_:1}),d(w,{class:c(5===C.value?"serach-data-title-2":"serach-data-title-3")},{default:s((()=>[d(w,null,{default:s((()=>[d(x,null,{default:s((()=>[o("序号")])),_:1})])),_:1}),d(w,null,{default:s((()=>[d(x,null,{default:s((()=>[o("名称")])),_:1})])),_:1}),C.value<5?(u(),l(w,{key:0},{default:s((()=>[1===C.value?(u(),l(x,{key:0},{default:s((()=>[o("类型")])),_:1})):n("",!0),C.value>1&&C.value<5?(u(),l(x,{key:1},{default:s((()=>[o("数量")])),_:1})):n("",!0)])),_:1})):n("",!0)])),_:1},8,["class"]),d(w,{class:"serach-data-list"},{default:s((()=>[(u(!0),i(f,null,r(j.value,((a,e)=>(u(),l(w,{key:e,class:c(e%2!=0?"bgb":""),onClick:a=>(async a=>{I.storageName=j.value[a].store,I.placepointid=j.value[a].pid,I.storageId=j.value[a].sid,m({delta:1})})(e)},{default:s((()=>[d(w,{class:"store-data"},{default:s((()=>[d(x,null,{default:s((()=>[o(p(e+1),1)])),_:2},1024)])),_:2},1024),d(w,{class:"store-data"},{default:s((()=>[d(x,{style:{"font-size":"15rpx"}},{default:s((()=>[o(p(a.store),1)])),_:2},1024)])),_:2},1024),d(w,{class:"store-data"},{default:s((()=>[2===C.value?(u(),l(x,{key:0,style:{"font-size":"15rpx"}},{default:s((()=>[o(p(a.num),1)])),_:2},1024)):n("",!0)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-6a49f4a1"]]);export{C as default};
